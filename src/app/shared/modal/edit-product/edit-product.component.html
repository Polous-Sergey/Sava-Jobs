<div class="main">
    <div fxLayout="row" fxLayout.xs="column">
        <div fxFlex="40%" class="cover">
            <div class="image-cover" fxLayoutAlign=" center">
                <img src="/api/image/{{product.cover}}" *ngIf="!previewCower" width="100%">
                <img [src]="previewCower" *ngIf="previewCower" width="100%">
                <div class="change-cover">
                    <button mat-icon-button (click)="coverInput.click()">
                        <mat-icon aria-label="Delete">autorenew</mat-icon>
                    </button>
                </div>
            </div>
        </div>
        <div class="content" fxFlex="60%">
            <h1 mat-dialog-title>Edit product</h1>
            <div mat-dialog-content>
                <div fxLayout="row" fxLayoutAlign="space-between center">
                    <div fxLayout="column" fxFlex="50%" fxLayoutAlign="center end">
                        <mat-form-field>
                            <input placeholder="Title" matInput [(ngModel)]="product.title">
                        </mat-form-field>
                        <mat-form-field>
                            <input placeholder="Price" matInput [(ngModel)]="product.price">
                        </mat-form-field>
                        <mat-form-field>
                            <textarea matInput placeholder="Short Description"
                                      [(ngModel)]="product.shortDescription"></textarea>
                        </mat-form-field>
                    </div>
                    <div fxLayout="column" fxFlex="50%" fxLayoutAlign="center end">
                        <mat-form-field>
                            <input placeholder="Total Rating" matInput [(ngModel)]="product.totalRating">
                        </mat-form-field>
                        <mat-form-field>
                            <input placeholder="Category" matInput>
                        </mat-form-field>
                        <mat-form-field>
                            <textarea matInput placeholder="Description" [(ngModel)]="product.description"></textarea>
                        </mat-form-field>
                    </div>

                </div>

                <div>
                    <input style="display: none"
                           type="file"
                           (change)="onFilesSelected($event)"
                           multiple
                           #fileInput>
                    <input style="display: none"
                           type="file"
                           (change)="onCoverSelected($event)"
                           #coverInput>
                </div>
            </div>
        </div>
    </div>

    <div class="grid">
        <div class="grid-item" fxFlex="25%" fxLayoutAlign="center center" fxFlex.xs="50%"
             *ngFor="let image of product.images; let i = index">
            <img [src]="'/api/image/' + image" width="100%">
            <div class="close-modal">
                <button mat-icon-button (click)="deleteImage(i, image)">
                    <mat-icon aria-label="Delete">delete</mat-icon>
                </button>
            </div>
        </div>
        <div class="grid-item" fxFlex="25%" fxLayoutAlign="center center" fxFlex.xs="50%"
             *ngFor="let previewImage of previewImages; let i = index">
            <img [src]="previewImage" width="100%">
            <div class="close-modal">
                <button mat-icon-button (click)="deletePreviewImage(i)">
                    <mat-icon aria-label="Delete">delete</mat-icon>
                </button>
            </div>
        </div>
        <div class="addImage" fxFlex="25%" fxLayoutAlign="center center" fxFlex.xs="50%">
            <button mat-icon-button (click)="fileInput.click()">
                <mat-icon aria-label="Add image">add</mat-icon>
            </button>
        </div>
    </div>

    <div mat-dialog-actions fxLayout="row" fxLayoutAlign="end center">
        <button mat-button color="primary" (click)="closeClick()">Cancel</button>
        <button mat-button color="primary" (click)="submitClick()">Submit</button>
    </div>

</div>
